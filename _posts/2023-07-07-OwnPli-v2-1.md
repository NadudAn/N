---
title: 온플리 v2 프로젝트
author: ahma0
date:   2023-07-10 19:10:00 +0900
categories: [Project, OwnPli]
tag: [Project, Web, OwnPli, v2]
---

온플리 버전2를 만들려 한다. 기존에 비즈니스 로직을 서비스 계층에 넣었던 것과는 달리 도메인에 넣어서 개발해볼 생각이다. 버전 2는 AWS에 올려 배포해볼 생각이기 때문에 기존에 음악을 다운받아 음악을 재생시키자고 계획했던 것과는 달리 유튜브 api나 스포티파이 api를 사용하여 음악을 재생하는 방안으로 해결할 예정이다. 

<br>

<hr>

## 📌 개요

2022년도 2학기에 만들었던 온플리 프로젝트를 더 업그레이드 하여 다시 만들 것이다.

| 프로젝트 명 | OwnPli v2 |
| :---: | --- |
| 참여 인원 | 2명 |
| 제작 기간 | 2023.07.07 ~ ing |
| 개발 환경 | Stringboot 3.x, gradle, JPA, Spring Rest Docs, SpringSecurity, Querydsl, MongoDB, Spring Security, Oauth 2.0 |
| 주요 기능 | 1. 추천 - 사용자들이 많이 담은 음악 추천<br> 2. 플레이리스트 생성 - 원하는 태그들을 선택하여 항목별로 필터링하여 음악 검색 후 플레이리스트 추가 <br> 3. 플레이리스트 공유 - 다른 사용자가 만든 플레이리스트를 볼 수 있음. <br> 사용자 - 로그인 및 회원가입, 회원 정보 수정, 유효성 검사 및 중복 검사 |

<br>

### 📎 수정사항(계획)

| | 기존 | 변경 | 비고 |
| --- | --- | --- | --- |
| 음악 재생 | 직접 다운받아 파일로 저장 | 외부 api | 서버를 배포시키면 저작권 문제가 있을 것 같아 외부 api를 활용하는 방식으로 수정하였다. |
| 로그인 <br> 회원가입 | 직접 구현 | 소셜 로그인 | 만약 할 수 있다면 소셜 로그인까지 구현하기로 결정하였다. |
| DB | mysql | mongodb | |

<br>

## 🔖 요구사항 분석

### 1. DB

- 온플리(OwnPli)에 회원으로 가입하려면 회원아이디, 비밀번호, 이름, 나이, 성별을 입력해야 한다.
- 회원은 회원아이디로 식별한다.
- 음악에 대한 음악아이디, 제목, 장르, 분위기, 앨범 정보, 가수, mp3 파일 주소, 가사 파일 주소, 이미지 파일 주소, 나라를 유지해야 한다.
- 음악은 여러 분위기를 가질 수 있고, 하나의 분위기는 여러 노래의 속성이 될 수 있다.
- 음악은 여러개의 장르를 가질 수 있다.
- 음악은 음악아이디로 식별한다.
- 회원은 여러개의 플레이리스트를 생성할 수 있고 플레이리스트 하나는 한 명의 회원만 생성할 수 있다.
- 플레이리스트에 대한 플레이리스트 번호, 플레이리스트 이름, 회원아이디, 음악을 유지해야한다.
- 플레이리스트는 플레이리스트 번호로 식별한다.
- 플레이리스트에는 여러 음악을 담을 수 있고, 하나의 음악을 여러 플레이리스트에 담을 수 있다.

<br>

### 2. 회원 가입

#### 유효성 검사

- 닉네임은 2 ~ 10글자이며, 특수문자를 제외한 한글, 알파벳 대소문자, 숫자로 구성.
- 이메일 형식 패턴 적용.
- 공백 또는 빈 칸이 있을 시 다시 입력해달라고 안내.
- 비밀번호는 8 ~ 16자, 영문, 숫자, 특수문자를 사용하게 함.


#### 중복확인

- 사용자가 입력한 이메일이 DB에 존재할 경우 이미 사용하는 이메일임을 알림.
- 사용자가 입력한 닉네임이 DB에 존재할 경우 이미 사용하는 닉네임임을 알림.
- 검사가 통과됐다면 로그인 페이지로 이동.

<br>

### 3. 로그인 페이지

#### 로그인을 하지 않았을 경우

- 회원가입 페이지
- 음악 순위 탭
- 플레이리스트 추천 탭 - 시즌 기반
- 그 외의 경우 로그인 페이지로 이동.

#### 로그인 검사

- 아이디와 비밀번호가 일치하지 않는 경우 "아이디 또는 비밀번호가 일치하지 않습니다" 띄우기.
- 로그인이 완료됐다면 홈 화면으로 이동.

<br>

### 4. 회원 정보 수정

- 회원 정보 수정은 닉네임, 비밀번호만 가능함.
- 수정란이 빈칸 또는 공백일 경우 안내메시지 출력.
- 닉네임은 2 ~ 10글자이며, 특수문자를 제외한 한글, 알파벳 대소문자, 숫자로 구성.
- 비밀번호는 8 ~ 16자, 영문, 숫자, 특수문자를 사용하게 함.

<br>

### 5. 좋아요 버튼

- 음악 좋아요 버튼을 누르지 않은 상태에서 좋아요 버튼을 누른 경우 좋아요 수가 올라감.
- 그 반대의 경우 좋아요 수가 내려감.

<br>

### 6. 음악 재생 기능

- 외부 API(spotify, youtube 등)를 이용하여 음악을 재생할 수 있도록 함.

<br>

### +) 소셜 로그인 기능 만들기

- 구글, 카카오, 네이버, 스포티파이 로그인이 가능하도록 하기.
- db에 이메일이 있을 경우 기존 회원 데이터 정보를 유지함.
- 소셜 로그인 사용자도 닉네임, 비밀번호 설정이 가능하고, 일반 로그인도 가능하게 하기

<br>

## 🛠️ DB 설계

<!-- db 스키마 올리기 -->

To be added soon

## 🔎 API 설계

<!-- 회원, 음악, 플레이리스트 등의 api -->

To be added soon